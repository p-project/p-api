services:
    app.listener.access_listener:
        class: AppBundle\Listener\AccessListener
        arguments: [ "@doctrine.orm.entity_manager", "@kernel" ]
        tags:
            - { name: kernel.event_listener, event: kernel.request }

    app.security.account_provider:
        class: AppBundle\Security\AccountProvider
        arguments: [ "@doctrine.orm.entity_manager" ]
        public: false
            
    video.search_filter:
        parent:    'api_platform.doctrine.orm.search_filter'
        arguments: [ { id: 'exact', title: 'ipartial', channel: 'ipartial' } ]
        tags:      [ { name: 'api_platform.filter', id: 'video.search' } ]

    account.search_filter:
        parent:    'api_platform.doctrine.orm.search_filter'
        arguments: [ { id: 'exact', username: 'ipartial', email: 'ipartial', firstName: 'ipartial' } ]
        tags:      [ { name: 'api_platform.filter', id: 'account.search' } ]

    channel.search_filter:
        parent:    'api_platform.doctrine.orm.search_filter'
        arguments: [ { id: 'exact', name: 'ipartial', account: 'ipartial' } ]
        tags:      [ { name: 'api_platform.filter', id: 'channel.search' } ]
